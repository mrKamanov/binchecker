# Документация BIN Checker App

## Обновление документации

**Внимание**: Этот файл содержит устаревшую документацию, которая была создана на этапе планирования приложения. 

**Актуальная подробная документация находится в файле**: `BIN_Checker_App_Documentation.md`

## Краткое описание текущего состояния

BIN Checker App - это полнофункциональное Android-приложение, которое было успешно реализовано и протестировано. Приложение включает в себя:

### Реализованные функции
- Проверка BIN номеров банковских карт через API binlist.net
- Отображение полной информации о карте (тип, банк, страна, координаты)
- Интерактивные действия (открытие сайта банка, звонки, карты)
- История запросов с локальным хранением в Room Database
- Поиск по истории запросов
- Детальный просмотр информации в модальном окне
- Поддержка бесплатного и премиум API
- Валидация BIN в реальном времени
- Обработка всех типов ошибок с понятными сообщениями

### Архитектура
- **Clean Architecture** с четким разделением слоев
- **MVVM** паттерн с Jetpack Compose
- **Hilt** для внедрения зависимостей
- **Kotlin Coroutines + Flow** для асинхронности
- **Room Database** для локального хранения
- **Retrofit** для сетевых запросов

### Пользовательский интерфейс
- Два основных экрана: проверка BIN и история запросов
- Material3 дизайн с адаптивным интерфейсом
- Анимированные переходы и состояния
- Нижняя навигация между экранами
- Интерактивные карточки с действиями

### Тестирование
- Проведено 36 тестов различных типов
- 94% успешных тестов
- Исправлены все критические проблемы
- Приложение готово к релизу

## Ссылки на документацию

- **Подробная документация**: `BIN_Checker_App_Documentation.md`
- **Тестовые документы**: папка `test-docs/`
- **Тестовое задание**: `testzd.md`

## Статус проекта

**ЗАВЕРШЕНО** - Приложение полностью реализовано и протестировано
**ГОТОВО К РЕЛИЗУ** - Все требования выполнены, критические проблемы исправлены
**ДОКУМЕНТАЦИЯ ОБНОВЛЕНА** - Создана подробная техническая документация

---

*Последнее обновление: Декабрь 2024*

Общее описание

BIN Checker App - мобильное приложение для проверки информации о банковских картах по BIN (Bank Identification Number) кодам. Приложение использует API binlist.net для получения данных и предоставляет удобный интерфейс для просмотра истории запросов.

Архитектура приложения

Основные компоненты





Presentation Layer: UI компоненты (Jetpack Compose)



Domain Layer: Use Cases, Repository interfaces



Data Layer: Repository implementations, API service, Local Storage



DI Container: Dependency Injection (Koin/Hilt)

Схема взаимодействия компонентов

┌─────────────────┐    ┌─────────────────┐
│   MainActivity  │    │  NavController  │
│                 │────│                 │
└─────────────────┘    └─────────────────┘
         │                       │
         ▼                       ▼
┌─────────────────┐    ┌─────────────────┐
│  BinInputScreen │    │ HistoryScreen   │
│                 │    │                 │
└─────────────────┘    └─────────────────┘
         │                       │
         ▼                       ▼
┌─────────────────┐    ┌─────────────────┐
│ BinInputViewModel│   │HistoryViewModel │
│                 │    │                 │
└─────────────────┘    └─────────────────┘
         │                       │
         ▼                       ▼
┌─────────────────┐    ┌─────────────────┐
│CheckBinUseCase  │    │GetHistoryUseCase│
│                 │    │                 │
└─────────────────┘    └─────────────────┘
         │                       │
         ▼                       ▼
┌─────────────────────────────────────────┐
│            BinRepository                │
│                                         │
└─────────────────────────────────────────┘
         │                       │
         ▼                       ▼
┌─────────────────┐    ┌─────────────────┐
│   BinApiService │    │  LocalDatabase  │
│   (binlist.net) │    │     (Room)      │
└─────────────────┘    └─────────────────┘


Описание экранов

Экран 1: Проверка BIN (BinInputScreen)

Компоненты интерфейса

1. Статус-бар





Отображение времени и индикаторов сети



Системный компонент Android

2. Заголовок приложения





Название: "BIN Checker"



Подзаголовок: "Проверка банковских карт"



Цветовая схема: синий фон (#2563EB), белый текст

3. Форма ввода BIN





Поле ввода:





Placeholder: "Например: 545301"



Максимальная длина: 8 символов



Валидация: только цифры



Стиль: серая рамка, крупный шрифт с увеличенным межбуквенным интервалом



Кнопка "Проверить":





Полная ширина



Синий фон с эффектом hover



Активна только при валидном вводе

4. Карточка результатов





Заголовок с индикатором: зеленая точка + "Информация о карте"



Информационные поля:





Тип карты (например: "Visa Debit")



Банк (например: "Sberbank")



Страна (флаг + название: "🇷🇺 Россия")



Город (например: "Москва")

5. Кнопки действий





"Открыть сайт банка": 🌐 + текст



"Позвонить в банк": 📞 + текст



"Показать на карте": 📍 + текст



Стиль: серый фон, полная ширина

6. Нижняя навигация





"Проверка": активная вкладка (синий цвет)



"История": неактивная вкладка (серый цвет)

Состояния экрана





Начальное состояние: пустое поле ввода, скрытая карточка результатов



Состояние загрузки: показ индикатора загрузки после нажатия "Проверить"



Состояние с результатами: отображение полученных данных



Состояние ошибки: показ сообщения об ошибке

Экран 2: История запросов (HistoryScreen)

Компоненты интерфейса

1. Заголовок





Название: "История запросов"



Подзаголовок: "Ранее проверенные BIN"

2. Список истории





Карточка истории (для каждого запроса):





BIN номер: крупный синий моноширинный шрифт



Время запроса: мелкий серый текст в правом верхнем углу



Краткая информация:





Тип карты



Банк



Страна с флагом

3. Состояние "Пустая история"





Иконка: 📋



Заголовок: "История пуста"



Описание: "Проверьте первый BIN номер, чтобы увидеть историю"

4. Нижняя навигация





"Проверка": неактивная вкладка



"История": активная вкладка (синий цвет)

Пользовательские сценарии (User Flow)

Основной сценарий: Проверка нового BIN

1. Пользователь запускает приложение
   ↓
2. Открывается экран "Проверка BIN"
   ↓
3. Пользователь вводит BIN номер (например: 545301)
   ↓
4. Нажимает кнопку "Проверить"
   ↓
5. Показывается индикатор загрузки
   ↓
6. Выполняется запрос к binlist.net API
   ↓
7. Результат отображается в карточке
   ↓
8. Запрос сохраняется в локальную историю
   ↓
9. Пользователь может выполнить действия:
   - Открыть сайт банка
   - Позвонить в банк  
   - Показать координаты на карте


Сценарий: Просмотр истории

1. Пользователь находится на любом экране
   ↓
2. Нажимает вкладку "История" в нижней навигации
   ↓
3. Открывается экран истории
   ↓
4. Отображается список ранее проверенных BIN
   ↓
5. Каждая карточка показывает:
   - BIN номер
   - Время запроса
   - Основную информацию о карте


Взаимосвязи интерфейса

Навигация между экранами

Переходы:





Из "Проверка" → "История": нажатие на вкладку "История"



Из "История" → "Проверка": нажатие на вкладку "Проверка"

Состояние навигации:





Активная вкладка: синий цвет (#2563EB), жирный шрифт



Неактивная вкладка: серый цвет (#9CA3AF), обычный шрифт

Связи данных

Поток данных от ввода к истории:





Пользователь вводит BIN → сохраняется в состоянии ViewModel



Нажатие "Проверить" → запрос к API + сохранение в БД



Успешный ответ → обновление UI + добавление в историю



Переход к истории → загрузка данных из локальной БД

Интерактивные элементы

Кнопки действий с внешними приложениями:





"Открыть сайт банка"

Intent(Intent.ACTION_VIEW, Uri.parse(bankUrl))




"Позвонить в банк"

Intent(Intent.ACTION_DIAL, Uri.parse("tel:$bankPhone"))




"Показать на карте"

Intent(Intent.ACTION_VIEW, Uri.parse("geo:$latitude,$longitude"))


Технические требования к интерфейсу

Адаптивность





Поддержка различных размеров экранов (320dp - 428dp ширина)



Vertical orientation only



Safe area handling для устройств с вырезами

Доступность (Accessibility)





Content descriptions для всех интерактивных элементов



Поддержка screen readers



Контрастность цветов согласно WCAG 2.1 AA

Анимации и переходы





Плавные переходы между экранами (300ms)



Анимация появления карточки результатов



Индикатор загрузки во время API запроса



Ripple эффекты на кнопках

Обработка ошибок в UI

Типы ошибок:





Сетевая ошибка: "Проверьте подключение к интернету"



Неверный BIN: "BIN номер не найден"



Серверная ошибка: "Сервис временно недоступен"

Отображение ошибок:





Snackbar для временных сообщений



Error state в карточке результатов для критических ошибок

Цветовая схема

Основные цвета





Primary: #2563EB (Синий)



Primary Light: #DBEAFE (Светло-синий для фона)



Text Primary: #1F2937 (Темно-серый)



Text Secondary: #6B7280 (Серый)



Background: #F9FAFB (Светло-серый фон)



Success: #10B981 (Зеленый для индикаторов)



Error: #EF4444 (Красный для ошибок)

Применение цветов





Заголовки: Primary цвет



Активные элементы: Primary цвет



Неактивные элементы: Text Secondary



Фон карточек: Белый с тенью



Границы: #E5E7EB

Типографика

Размеры шрифтов





H1 (Заголовок экрана): 20sp, Bold



H2 (Заголовок карточки): 16sp, SemiBold



Body: 14sp, Regular



Caption: 12sp, Regular



BIN номер: 18sp, Monospace, Bold

Семейство шрифтов





Основной: System default (Roboto на Android)



Моноширинный: Roboto Mono для BIN номеров

Spacing и Layout

Отступы





Screen padding: 16dp



Card padding: 16dp



Element spacing: 8dp (малые), 16dp (средние), 24dp (большие)



Bottom navigation height: 56dp

Размеры компонентов





Кнопка высота: 48dp (минимум для touch target)



Input field высота: 56dp



Card border radius: 8dp



Button border radius: 6dp